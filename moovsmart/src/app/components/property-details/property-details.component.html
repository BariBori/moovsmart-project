<div class="container">
  <div class="container-small">
    <div class="row owner_banner" *ngIf="isUserSeller">
      <div class="col-6">
        {{propertyAdvertDetails.advertStatus.displayName}}

      </div>
      <div class="col-6">
        <button class="btn btn-info float-right" (click)="editProperty(propertyAdvertDetails.id)">Szerkesztés</button>
        <button class="btn btn-danger float-right"
          (click)="archivePropertyAdvert(propertyAdvertDetails.id)">Archiválás</button>
      </div>
    </div>

    <!--Cím-->
    <div class="row">
      <div class="col-8">
        <p class="address">{{propertyAdvertDetails?.city}}, {{propertyAdvertDetails?.district}}
          {{propertyAdvertDetails?.street}}</p>
      </div>
      <div class="col-4" *ngIf="isVisitorLogged && !isUserSeller">
        <button class="btn btn-like float-right" (click)="saveUnsaveFavourite()">
          <ng-template [ngIf] ="this.isFavourite()" [ngIfElse]="emptyStar"><fa-icon [icon]="farStar" fa></fa-icon></ng-template>
          <ng-template #emptyStar><fa-icon [icon]="fasStar" fa></fa-icon></ng-template>

            {{this.isFavourite()?'Eltávolítás':'Mentés' }}
        </button>
      </div>
    </div>


    <div class="row">
      <div class="col-12 col-lg-6">
        <ngb-carousel class="container-carousel">
          <ng-template ngbSlide *ngFor="let image of propertyAdvertDetails?.listOfImages; let i = index">
            <div class="picsum-img-wrapper">
              <img src="{{image}}" alt="{{i}}">
            </div>
          </ng-template>
        </ngb-carousel>
      </div>

      <div class="col-12 col-lg-6">
        <div *ngIf="propertyAdvertDetails?.startOfAuction < today">AKTUÁLIS</div>
        Aukció ideje: {{propertyAdvertDetails?.startOfAuction| date:'yyyy.MM.dd hh:mm:ss'}} -         {{propertyAdvertDetails?.endOfAuction | date:'yyyy.MM.dd hh:mm:ss'}}
        <div class="actual-price">Aktuális ár</div>
        <div>{{propertyAdvertDetails?.actualPrice}}</div>
        <div>
          <app-bid-form></app-bid-form>
        </div>
      </div>


    </div>

    <div class="row">
      <div class="col-8 adverId">Azonosító: {{propertyAdvertDetails?.advertId}}
        <div  *ngIf="isVisitorLogged  && !isUserSeller">
          <button class="btn btn-like" (click)="saveUnsaveFavourite()">
            <ng-template [ngIf] ="this.isFavourite()" [ngIfElse]="emptyStar"><fa-icon [icon]="farStar" fa></fa-icon></ng-template>
            <ng-template #emptyStar><fa-icon [icon]="fasStar" fa></fa-icon></ng-template>

            {{this.isFavourite()?'Eltávolítás':'Mentés' }}
          </button>
        </div>



      </div>
      <div class="col-4 username">Hirdetés feladója: {{
        isUserSeller
          ?'Én'
          :propertyAdvertDetails?.userName
        }}
        <div  *ngIf="isVisitorLogged  && !isUserSeller">
        <button class="btn btn-envelope float-right" (click)='sendMessage()'>
          <fa-icon [icon]="faEnvelope"></fa-icon> Üzenetet küldök
        </button>
        </div>
      </div>
    </div>

    <hr>

    <div class="row">
      <div class="col-3 border-right">
        <p>Alapterület</p>
        <p class="label">{{propertyAdvertDetails?.area}} m2</p>
      </div>
      <div class="col-3 border-right">
        <p class="">Szobaszám</p>
        <p class="label">{{propertyAdvertDetails?.numberOfRooms}}</p>
      </div>
      <div class="col-6">
        <p class="text-right">Ár</p>
        <p class="label text-right">{{propertyAdvertDetails?.price}} Millió Ft</p>
      </div>
    </div>

    <hr>



    <div class="row">
      <div class="col-8 title">{{propertyAdvertDetails?.title}}</div>
      <div class="col-4"></div>
    </div>


    <div class="row details">
      <div class="col-4 label-small">Négyzetméter ár</div>
      <div class="col-8">{{propertyAdvertDetails?.priceForSquareMeter}} Ft/m2</div>
    </div>

    <div class="row details">
      <div class="col-4 label-small">Típus</div>
      <div class="col-8">{{propertyAdvertDetails?.propertyType.displayName}}</div>
    </div>
    <div class="row details">
      <div class="col-4 label-small">Állapot</div>
      <div class="col-8">{{propertyAdvertDetails?.propertyConditionType.displayName}}</div>
    </div>
    <div class="row details">
      <div class="col-4 label-small">Parkolás</div>
      <div class="col-8">{{propertyAdvertDetails?.parkingType.displayName}}</div>
    </div>

    <div class="row details">
      <div class="col-4 label-small">Erkély</div>
      <div class="col-8">{{propertyAdvertDetails?.balcony == true ? 'van': 'nincs'}}</div>
    </div>

    <div class="row details">
      <div class="col-4 label-small">Lift</div>
      <div class="col-8">{{propertyAdvertDetails?.elevator == true ? 'van': 'nincs'}}</div>
    </div>

    <div class="description">
      <p>{{propertyAdvertDetails?.description}}</p>
    </div>

    <div class="label">Térkép</div>


    <agm-map [latitude]="latitude" [longitude]="longitude" [scrollwheel]="false" [zoom]="zoom"
      (mapReady)="setLocation($event)">
      <agm-marker [latitude]="latitude" [longitude]="longitude"></agm-marker>
    </agm-map>

  </div>

</div>
